#+TITLE: 雙指針

* [[https://leetcode.cn/problems/reverse-string/][344. 反转字符串]]

#+BEGIN_SRC python :session
def reverse_string(s):
    left = 0
    right = len(s) - 1
    while left < right:
        temp = s[left]
        s[left] = s[right]
        s[right] = temp
        left += 1
        right -= 1
#+END_SRC

#+RESULTS:
: None

#+BEGIN_SRC python :session
s = ["H","a","n","n","a","h"]
reverse_string(s)
s
#+END_SRC

#+RESULTS:
| h | a | n | n | a | H |

* [[https://leetcode.cn/problems/reverse-vowels-of-a-string/][345. 反转字符串中的元音字母]]

在上一题的基础上，加一个元音判断

#+BEGIN_SRC python
def reverse_vowels(s):
    l, r = 0, len(s) - 1
    chars = list(s)
    vowels = set('aeiouAEIOU')

    while l < r:
        if s[l] not in vowels:
            l += 1
        elif s[r] not in vowels:
            r -= 1
        else:
            chars[l], chars[r] = chars[r], chars[l]
            l += 1
            r -= 1

    return ''.join(chars)
#+END_SRC

* [[https://leetcode.cn/problems/flip-square-submatrix-vertically/description/][3643. 垂直翻转子矩阵]]

#+BEGIN_SRC python
def reverse_submatrix(grid, x, y, k):
    for i in range(y, y + k):
        top = x
        bottom = x + k - 1
        while top < bottom:
            grid[top][i], grid[bottom][i] = grid[bottom][i], grid[top][i]
            top += 1
            bottom -= 1
    return grid
#+END_SRC

* [[https://leetcode.cn/problems/minimum-length-of-string-after-deleting-similar-ends/description/][1750. 删除字符串两端相同字符后的最短长度]]

不能相交，长度1直接返回，left < right
前缀后缀要所有字符相同

#+BEGIN_SRC python :session
def minimum_length(s):
    left, right = 0, len(s) - 1
    while left < right and s[left] == s[right]:
        c = s[left]
        while left <= right and s[left] == c:
            left += 1
        while left <= right and s[right] == c:
            right -= 1
    return right - left + 1
#+END_SRC

#+RESULTS:
: None

测试：

#+BEGIN_SRC python :session
minimum_length("ca")
#+END_SRC

#+RESULTS:
: 2

#+BEGIN_SRC python :session
minimum_length("cabaabac")
#+END_SRC

#+RESULTS:
: 0

#+BEGIN_SRC python :session
minimum_length("aabccabba")
#+END_SRC

#+RESULTS:
: 3

* [[https://leetcode.cn/problems/watering-plants-ii/][2105. 给植物浇水 II]]

#+BEGIN_SRC python :session
def minimum_refill(plants, capacity_a, capacity_b):
    ans = 0

    # a b 当前水量
    a = capacity_a
    b = capacity_b

    # a b 当前位置
    left = 0
    right = len(plants) - 1

    while left < right:
        # a的水不够，补充水，答案加1
        if a < plants[left]:
            a = capacity_a
            ans += 1
        # a浇水，右移
        a -= plants[left]
        left += 1

        # b的水不够，补水，答案加1
        if b < plants[right]:
            b = capacity_b
            ans += 1
        # b浇水，左移
        b -= plants[right]
        right -= 1

    # a b 相遇，如果水不够答案再加1
    if left == right and max(a, b) < plants[left]:
        ans += 1
    return ans
#+END_SRC

#+RESULTS:
: None

测试：

#+BEGIN_SRC python :session
minimum_refill([2,2,3,3], 5, 5)
#+END_SRC

#+RESULTS:
: 1

#+BEGIN_SRC python :session
minimum_refill([2,2,3,3], 3, 4)
#+END_SRC

#+RESULTS:
: 2
